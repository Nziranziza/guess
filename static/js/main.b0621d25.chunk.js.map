{"version":3,"sources":["components/PrivateRoute/index.jsx","components/LoginRoute/index.jsx","pages/login/index.jsx","services/index.js","pages/apply/index.jsx","pages/PlayGround/index.jsx","routes/index.jsx","App.jsx","reportWebVitals.js","index.jsx"],"names":["PrivateRoute","Component","component","rest","isLoggedIn","localStorage","getItem","render","to","LoginRoute","Login","useState","username","password","credentials","setCredentials","history","useHistory","onInputChange","key","value","className","type","placeholder","onChange","e","target","disabled","onClick","preventDefault","setItem","JSON","stringify","push","fetchAPI","endpoint","options","Promise","resolve","reject","parse","defaultOptions","method","headers","Accept","Authorization","base64","encode","combinedOptions","body","fetch","then","res","status","json","catch","err","logout","removeItem","Apply","preferredName","emailAddress","details","setDetails","step","setStep","instructions","setInstructions","applicantId","gameId","error","console","log","replaceAll","PlayGround","guess","setGuess","previousGuess","setPreviousGuess","result","setResult","sending","setSending","useEffect","Number","finally","Routes","exact","path","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b0621d25.chunk.js","sourcesContent":["import React from 'react';\nimport {\n  Redirect, \n  Route\n} from 'react-router-dom';\n\nconst PrivateRoute = ({\n  component: Component,\n  ...rest\n}) => {\n  const isLoggedIn = localStorage.getItem('credentials');\n  return <Route \n  render={() => (\n    isLoggedIn ? <Component { ...rest }/> : <Redirect to=\"/login\" />\n  )}\n  />\n};\n\nexport default PrivateRoute;\n","import React from 'react';\nimport {\n  Redirect, \n  Route\n} from 'react-router-dom';\n\nconst LoginRoute = ({ component: Component, ...rest }) => {\n  const isLoggedIn = localStorage.getItem(\"credentials\");\n  const applicantId = localStorage.getItem(\"applicantId\");\n\n  if (applicantId && isLoggedIn) {\n    return <Route render={() => <Redirect to=\"/play\" />} />;\n  }\n\n  if (isLoggedIn) {\n    return <Route render={() => <Redirect to=\"/apply\" />} />;\n  }\n\n  return <Route render={() => <Component {...rest} />} />;;\n};\n\nexport default LoginRoute;\n","import React, { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nimport \"./index.scss\";\n\nconst Login = () => {\n  const [credentials, setCredentials] = useState({\n    username: \"\",\n    password: \"\",\n  });\n  const history = useHistory();\n\n  const onInputChange = (key, value) => {\n    setCredentials({\n      ...credentials,\n      [key]: value,\n    });\n  };\n\n  const isDisabled = () => {\n    return !credentials.password || !credentials.username;\n  };\n\n  const onSubmit = (e) => {\n    e.preventDefault();\n    localStorage.setItem(\"credentials\", JSON.stringify(credentials));\n    history.push(\"apply\");\n  };\n\n  return (\n    <div className=\"form-container\">\n      <h1>Login to Guess Game</h1>\n      <form>\n        <input\n          type=\"text\"\n          placeholder=\"Username\"\n          value={credentials.username}\n          onChange={(e) => onInputChange(\"username\", e.target.value)}\n          className=\"input\"\n        />\n        <input\n          type=\"password\"\n          placeholder=\"Password\"\n          value={credentials.password}\n          onChange={(e) => onInputChange(\"password\", e.target.value)}\n          className=\"input\"\n        />\n        <button disabled={isDisabled()} onClick={onSubmit} className=\"button\">\n          Login\n        </button>\n      </form>\n    </div>\n  );\n};\n\nexport default Login;\n","import base64 from 'base-64';\n\nconst API_URL = 'https://game.flowautobody.com.au';\n\nexport const fetchAPI = (endpoint, options) =>\n  new Promise((resolve, reject) => {\n    const credentials = JSON.parse(localStorage.getItem(\"credentials\"));\n\n    const defaultOptions = {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json; charset=utf-8\",\n        \"Access-Control-Allow-Origin\": \"*\",\n        Accept: \"application/json\",\n        Authorization: `Basic ${base64.encode(`${credentials?.username}:${credentials?.password}`)}`,\n      },\n    };\n\n    const combinedOptions = {\n      ...defaultOptions,\n      ...options,\n    };\n\n    if (combinedOptions.body) {\n      combinedOptions.body = JSON.stringify(combinedOptions.body);\n    }\n\n    fetch(`${API_URL}${endpoint}`, combinedOptions)\n    .then((res) => {\n      if (res.status === 200 || res.status === 201 || res.status === 304) {\n        return resolve(res.json() || {});\n      }\n      return reject(res.json() || {});\n    })\n    .catch(err => reject(err));\n    \n  });\n\nexport const logout = () => {\n  localStorage.removeItem('credentials');\n  localStorage.removeItem('applicantId');\n  localStorage.removeItem('gameId');\n}\n","import React, { useState } from \"react\";\nimport { useHistory } from 'react-router-dom';\nimport parse from 'html-react-parser';\n\nimport \"./index.scss\";\nimport { fetchAPI, logout } from '../../services';\n\nconst Apply = () => {\n  const [details, setDetails] = useState({\n    preferredName: \"\",\n    emailAddress: \"\",\n  });\n  const [step, setStep] = useState(1);\n  const [instructions, setInstructions] = useState('');\n  const history = useHistory();\n\n  const onInputChange = (key, value) => {\n    setDetails({\n      ...details,\n      [key]: value,\n    });\n  };\n\n  const onApply = (e) => {\n    e.preventDefault();\n    fetchAPI('/apply', {\n      body: details,\n      method: 'POST'\n    }).then((res) => {\n      localStorage.setItem('applicantId', res.applicantId);\n      setStep(step + 1);\n      setInstructions(res.instructions);\n      fetchAPI('/game', {\n        method: 'POST',\n        body: {\n          applicantId: res.applicantId\n        }\n      }).then((res) => {\n        localStorage.setItem('gameId', res.gameId)\n      })\n    }).catch((error) => {\n      console.log(error);\n    })\n  };\n\n  const onPlay = () => {\n    history.push('/play')\n  };\n\n  const isDisabled = () => {\n    return !details.emailAddress || !details.preferredName\n  }\n\n  const logoutHandler = () => {\n    logout();\n    history.push('/login');\n  }\n\n  return (\n    <>\n    <div className=\"form-container\">\n      <h1>{`${step === 1 ? \"Apply to play\" : \"Instructions\"}`}</h1>\n      {step === 1 ? (\n        <form>\n          <input\n            placeholder=\"Preferred Name\"\n            value={details.preferredName}\n            onChange={(e) => onInputChange(\"preferredName\", e.target.value)}\n            type=\"text\"\n            className=\"input\"\n          />\n          <input\n            placeholder=\"Email address\"\n            value={details.emailAddress}\n            onChange={(e) => onInputChange(\"emailAddress\", e.target.value)}\n            type=\"email\"\n            className=\"input\"\n          />\n          <button \n          onClick={onApply}\n          className=\"button\"\n          disabled={isDisabled()}\n          >\n            Apply\n          </button>\n        </form>\n      ) : (\n        <div className=\"form-container\">\n          <p>{parse(instructions.replaceAll('\\n', '<br />'))}</p>\n          <button\n           onClick={onPlay}\n           className=\"button\"\n          >\n            Play\n          </button>\n        </div>\n      )}\n    </div>\n    <button \n      className=\"logout-btn button\"\n      onClick={logoutHandler}\n      >\n        Logout\n      </button>\n    </>\n  );\n};\n\nexport default Apply;\n","import React, { useState, useEffect } from \"react\";\nimport parse from 'html-react-parser';\nimport { useHistory } from 'react-router-dom';\n\nimport './index.scss';\nimport { fetchAPI, logout } from '../../services';\n\nconst PlayGround = () => {\n  const [guess, setGuess] = useState(\"\");\n  const [previousGuess, setPreviousGuess] = useState(\"\");\n  const [result, setResult] = useState(\"\");\n  const [sending, setSending] = useState(false);\n  const [instructions, setInstructions] = useState('');\n  const history = useHistory();\n  \n  useEffect(() => {\n    const gameId = localStorage.getItem(\"gameId\");\n    const applicantId = localStorage.getItem(\"applicantId\");\n    if(!gameId) {\n      fetchAPI('/game', {\n        method: 'POST',\n        body: {\n          applicantId: applicantId\n        }\n      }).then((res) => {\n        localStorage.setItem('gameId', res.gameId)\n      })\n    }\n  }, []);\n\n  const onSubmit = (e) => {\n    e.preventDefault();\n    const applicantId = localStorage.getItem(\"applicantId\");\n    const gameId = localStorage.getItem(\"gameId\");\n    setSending(true);\n    fetchAPI(\"/game\", {\n      method: \"PUT\",\n      body: {\n        applicantId,\n        gameId,\n        guess: Number(guess),\n      },\n    })\n      .then(({ result, instructions }) => {\n        setResult(result);\n        setPreviousGuess(guess);\n        setGuess(\"\");\n        if(result === 'correct') {\n          setInstructions(instructions)\n        }\n      })\n      .finally(() => {\n        setSending(false);\n      });\n  };\n\n  const logoutHandler = () => {\n    logout();\n    history.push('/login');\n  }\n  return (\n    <>\n    <div className=\"form-container\">\n      {result !== \"correct\" && (\n        <>\n          <h1>Enter your guess</h1>\n          <form>\n            <input\n              placeholder=\"Guess\"\n              onChange={(e) => setGuess(e.target.value)}\n              value={guess}\n              className=\"input\"\n            />\n            <button className=\"button\" onClick={onSubmit} disabled={!guess || sending}>\n              {sending ? \"Processing...\" : \"Send\"}\n            </button>\n          </form>\n        </>\n      )}\n      {previousGuess && result !== \"correct\" && (\n        <div className=\"error\">\n          <span>Your guess: {previousGuess}</span>\n          <span>Go {result}</span>\n        </div>\n      )}\n      {result === \"correct\" && (\n        <div className=\"success\">\n          <span>Your guess: {previousGuess}</span>\n          <span>That is correct!!!</span>\n          <p>{parse(instructions.replaceAll(\"\\n\", \"<br />\"))}</p>\n        </div>\n      )}\n    </div>\n    <button \n      className=\"logout-btn button\"\n      onClick={logoutHandler}\n      >\n        Logout\n      </button>\n    </>\n  );\n};\n\nexport default PlayGround;\n","import { Switch, Redirect, Route } from 'react-router-dom';\n\nimport PrivateRoute from '../components/PrivateRoute';\nimport LoginRoute from '../components/LoginRoute';\nimport Login from '../pages/login';\nimport Apply from '../pages/apply';\nimport PlayGround from '../pages/PlayGround';\n\nconst Routes = () => (\n  <Switch>\n    <Route  exact path=\"/\">\n      <Redirect to=\"/login\" />\n    </Route>\n    <LoginRoute path=\"/login\" exact component={Login} />\n    <PrivateRoute path=\"/apply\" exact component={Apply} />\n    <PrivateRoute path=\"/play\" exact component={PlayGround} />\n  </Switch>\n);\n\nexport default Routes;\n","import { BrowserRouter as Router } from 'react-router-dom';\n\nimport './App.scss';\nimport Routes from './routes/index';\n\nfunction App() {\n  return (\n    <div className=\"container\">\n      <Router>\n        <Routes />\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}